import { Contract, ContractFactory } from 'ethers';
import { BrowserProvider, JsonRpcSigner } from 'ethers';
// import VotingArtifact from '../artifacts/contracts/Voting.sol/Voting.json';


export const VOTING_CONTRACT_ABI = [{"type":"constructor","inputs":[{"name":"_name","type":"string","internalType":"string"},{"name":"_description","type":"string","internalType":"string"},{"name":"_startTime","type":"uint256","internalType":"uint256"},{"name":"_endTime","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"approveCandidate","inputs":[{"name":"candidateAddress","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"approveVoter","inputs":[{"name":"voterAddress","type":"address","internalType":"address"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"candidateCount","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"candidateRequests","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"candidates","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"id","type":"uint256","internalType":"uint256"},{"name":"name","type":"string","internalType":"string"},{"name":"party","type":"string","internalType":"string"},{"name":"wallet","type":"address","internalType":"address"},{"name":"voteCount","type":"uint256","internalType":"uint256"},{"name":"approved","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"election","inputs":[],"outputs":[{"name":"name","type":"string","internalType":"string"},{"name":"description","type":"string","internalType":"string"},{"name":"startTime","type":"uint256","internalType":"uint256"},{"name":"endTime","type":"uint256","internalType":"uint256"},{"name":"active","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"endElection","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"getCandidateStatus","inputs":[{"name":"candidateAddress","type":"address","internalType":"address"}],"outputs":[{"name":"registered","type":"bool","internalType":"bool"},{"name":"approved","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"getCandidates","inputs":[],"outputs":[{"name":"","type":"tuple[]","internalType":"struct Voting.Candidate[]","components":[{"name":"id","type":"uint256","internalType":"uint256"},{"name":"name","type":"string","internalType":"string"},{"name":"party","type":"string","internalType":"string"},{"name":"wallet","type":"address","internalType":"address"},{"name":"voteCount","type":"uint256","internalType":"uint256"},{"name":"approved","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"getElectionInfo","inputs":[],"outputs":[{"name":"","type":"tuple","internalType":"struct Voting.Election","components":[{"name":"name","type":"string","internalType":"string"},{"name":"description","type":"string","internalType":"string"},{"name":"startTime","type":"uint256","internalType":"uint256"},{"name":"endTime","type":"uint256","internalType":"uint256"},{"name":"active","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"getPendingCandidates","inputs":[],"outputs":[{"name":"","type":"tuple[]","internalType":"struct Voting.Candidate[]","components":[{"name":"id","type":"uint256","internalType":"uint256"},{"name":"name","type":"string","internalType":"string"},{"name":"party","type":"string","internalType":"string"},{"name":"wallet","type":"address","internalType":"address"},{"name":"voteCount","type":"uint256","internalType":"uint256"},{"name":"approved","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"getPendingVoters","inputs":[],"outputs":[{"name":"","type":"tuple[]","internalType":"struct Voting.Voter[]","components":[{"name":"id","type":"uint256","internalType":"uint256"},{"name":"name","type":"string","internalType":"string"},{"name":"wallet","type":"address","internalType":"address"},{"name":"hasVoted","type":"bool","internalType":"bool"},{"name":"approved","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"getResults","inputs":[],"outputs":[{"name":"winnerName","type":"string","internalType":"string"},{"name":"maxVotes","type":"uint256","internalType":"uint256"},{"name":"allCandidates","type":"tuple[]","internalType":"struct Voting.Candidate[]","components":[{"name":"id","type":"uint256","internalType":"uint256"},{"name":"name","type":"string","internalType":"string"},{"name":"party","type":"string","internalType":"string"},{"name":"wallet","type":"address","internalType":"address"},{"name":"voteCount","type":"uint256","internalType":"uint256"},{"name":"approved","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"getVoterStatus","inputs":[{"name":"voterAddress","type":"address","internalType":"address"}],"outputs":[{"name":"registered","type":"bool","internalType":"bool"},{"name":"approved","type":"bool","internalType":"bool"},{"name":"hasVoted","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isRegisteredCandidate","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"isRegisteredVoter","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"owner","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pendingCandidateAddresses","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"pendingVoterAddresses","inputs":[{"name":"","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"requestCandidateRegistration","inputs":[{"name":"name","type":"string","internalType":"string"},{"name":"party","type":"string","internalType":"string"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"requestVoterRegistration","inputs":[{"name":"name","type":"string","internalType":"string"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"totalVotes","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"vote","inputs":[{"name":"candidateId","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"voterCount","inputs":[],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"voterRequests","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"","type":"uint256","internalType":"uint256"}],"stateMutability":"view"},{"type":"function","name":"voters","inputs":[{"name":"","type":"address","internalType":"address"}],"outputs":[{"name":"id","type":"uint256","internalType":"uint256"},{"name":"name","type":"string","internalType":"string"},{"name":"wallet","type":"address","internalType":"address"},{"name":"hasVoted","type":"bool","internalType":"bool"},{"name":"approved","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"event","name":"CandidateApproved","inputs":[{"name":"id","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"name","type":"string","indexed":false,"internalType":"string"},{"name":"party","type":"string","indexed":false,"internalType":"string"},{"name":"wallet","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"CandidateRequested","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"name","type":"string","indexed":false,"internalType":"string"},{"name":"party","type":"string","indexed":false,"internalType":"string"}],"anonymous":false},{"type":"event","name":"ElectionEnded","inputs":[{"name":"winnerName","type":"string","indexed":false,"internalType":"string"},{"name":"winnerVotes","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"Voted","inputs":[{"name":"voter","type":"address","indexed":true,"internalType":"address"},{"name":"candidateId","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"VoterApproved","inputs":[{"name":"id","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"name","type":"string","indexed":false,"internalType":"string"},{"name":"wallet","type":"address","indexed":false,"internalType":"address"}],"anonymous":false},{"type":"event","name":"VoterRequested","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"name","type":"string","indexed":false,"internalType":"string"}],"anonymous":false}];

export const VOTING_CONTRACT_BYTECODE = "0x608060405234801561000f575f5ffd5b506040516147b73803806147b783398181016040528101906100319190610309565b808210610073576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161006a906103ff565b60405180910390fd5b4282116100b5576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016100ac90610467565b60405180910390fd5b335f5f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506040518060a001604052808581526020018481526020018381526020018281526020016001151581525060015f820151815f019081610133919061068c565b506020820151816001019081610149919061068c565b5060408201518160020155606082015181600301556080820151816004015f6101000a81548160ff0219169083151502179055509050505050505061075b565b5f604051905090565b5f5ffd5b5f5ffd5b5f5ffd5b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b6101e8826101a2565b810181811067ffffffffffffffff82111715610207576102066101b2565b5b80604052505050565b5f610219610189565b905061022582826101df565b919050565b5f67ffffffffffffffff821115610244576102436101b2565b5b61024d826101a2565b9050602081019050919050565b8281835e5f83830152505050565b5f61027a6102758461022a565b610210565b9050828152602081018484840111156102965761029561019e565b5b6102a184828561025a565b509392505050565b5f82601f8301126102bd576102bc61019a565b5b81516102cd848260208601610268565b91505092915050565b5f819050919050565b6102e8816102d6565b81146102f2575f5ffd5b50565b5f81519050610303816102df565b92915050565b5f5f5f5f6080858703121561032157610320610192565b5b5f85015167ffffffffffffffff81111561033e5761033d610196565b5b61034a878288016102a9565b945050602085015167ffffffffffffffff81111561036b5761036a610196565b5b610377878288016102a9565b9350506040610388878288016102f5565b9250506060610399878288016102f5565b91505092959194509250565b5f82825260208201905092915050565b7f496e76616c69642074696d652072616e676500000000000000000000000000005f82015250565b5f6103e96012836103a5565b91506103f4826103b5565b602082019050919050565b5f6020820190508181035f830152610416816103dd565b9050919050565b7f53746172742074696d65206d75737420626520696e20667574757265000000005f82015250565b5f610451601c836103a5565b915061045c8261041d565b602082019050919050565b5f6020820190508181035f83015261047e81610445565b9050919050565b5f81519050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f60028204905060018216806104d357607f821691505b6020821081036104e6576104e561048f565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f600883026105487fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff8261050d565b610552868361050d565b95508019841693508086168417925050509392505050565b5f819050919050565b5f61058d610588610583846102d6565b61056a565b6102d6565b9050919050565b5f819050919050565b6105a683610573565b6105ba6105b282610594565b848454610519565b825550505050565b5f5f905090565b6105d16105c2565b6105dc81848461059d565b505050565b5b818110156105ff576105f45f826105c9565b6001810190506105e2565b5050565b601f82111561064457610615816104ec565b61061e846104fe565b8101602085101561062d578190505b610641610639856104fe565b8301826105e1565b50505b505050565b5f82821c905092915050565b5f6106645f1984600802610649565b1980831691505092915050565b5f61067c8383610655565b9150826002028217905092915050565b61069582610485565b67ffffffffffffffff8111156106ae576106ad6101b2565b5b6106b882546104bc565b6106c3828285610603565b5f60209050601f8311600181146106f4575f84156106e2578287015190505b6106ec8582610671565b865550610753565b601f198416610702866104ec565b5f5b8281101561072957848901518255600182019150602085019450602081019050610704565b868310156107465784890151610742601f891682610655565b8355505b6001600288020188555050505b505050505050565b61404f806107685f395ff3fe608060405234801561000f575f5ffd5b506004361061018c575f3560e01c806386852dca116100dc578063c40584b111610095578063da36cffe1161006f578063da36cffe14610498578063ece5f300146104c8578063ee2128f2146104f8578063f2f7c934146105145761018c565b8063c40584b114610407578063d08597b914610437578063d6f1694f146104675761018c565b806386852dca1461033d5780638da5cb5b1461035b5780639a70b32714610379578063a3ec138d14610397578063a9a981a3146103cb578063c3322d09146103e95761018c565b80633477ee2e116101495780634b1d3ede116101235780634b1d3ede146102af57806359f78468146102d15780635ef16fa9146102db57806378e3ef201461030b5761018c565b80633477ee2e1461023c57806342169e48146102715780634717f97c1461028f5761018c565b80630121b93f1461019057806302c7538a146101ac57806306a49fce146101c857806307be7e91146101e65780630d15fd7714610202578063119d4ddb14610220575b5f5ffd5b6101aa60048036038101906101a59190612c24565b610544565b005b6101c660048036038101906101c19190612d8b565b61092e565b005b6101d0610cf4565b6040516101dd9190612fe2565b60405180910390f35b61020060048036038101906101fb919061302c565b610fe8565b005b61020a611242565b6040516102179190613066565b60405180910390f35b61023a6004803603810190610235919061302c565b611248565b005b61025660048036038101906102519190612c24565b61154d565b604051610268969594939291906130e5565b60405180910390f35b6102796116bc565b6040516102869190613066565b60405180910390f35b6102976116c2565b6040516102a693929190613152565b60405180910390f35b6102b76117df565b6040516102c8959493929190613195565b60405180910390f35b6102d961191a565b005b6102f560048036038101906102f0919061302c565b611a10565b60405161030291906131f4565b60405180910390f35b6103256004803603810190610320919061302c565b611a2d565b6040516103349392919061320d565b60405180910390f35b610345611b19565b60405161035291906132bc565b60405180910390f35b610363611c80565b60405161037091906132dc565b60405180910390f35b610381611ca4565b60405161038e9190612fe2565b60405180910390f35b6103b160048036038101906103ac919061302c565b612122565b6040516103c29594939291906132f5565b60405180910390f35b6103d3612213565b6040516103e09190613066565b60405180910390f35b6103f1612219565b6040516103fe919061347b565b60405180910390f35b610421600480360381019061041c919061302c565b61261b565b60405161042e9190613066565b60405180910390f35b610451600480360381019061044c919061302c565b612630565b60405161045e9190613066565b60405180910390f35b610481600480360381019061047c919061302c565b612645565b60405161048f92919061349b565b60405180910390f35b6104b260048036038101906104ad919061302c565b6126ee565b6040516104bf91906131f4565b60405180910390f35b6104e260048036038101906104dd9190612c24565b61270b565b6040516104ef91906132dc565b60405180910390f35b610512600480360381019061050d91906134c2565b612746565b005b61052e60048036038101906105299190612c24565b612ae8565b60405161053b91906132dc565b60405180910390f35b600160020154421015801561055e57506001600301544211155b61059d576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161059490613582565b60405180910390fd5b60016004015f9054906101000a900460ff166105ee576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016105e5906135ea565b60405180910390fd5b600b5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff16610677576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161066e90613652565b60405180910390fd5b600a5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2060020160159054906101000a900460ff16610704576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016106fb906136ba565b60405180910390fd5b600a5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2060020160149054906101000a900460ff1615610792576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078990613722565b60405180910390fd5b5f811180156107a357506006548111155b6107e2576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016107d99061378a565b60405180910390fd5b60095f8281526020019081526020015f206005015f9054906101000a900460ff16610842576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610839906137f2565b60405180910390fd5b6001600a5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2060020160146101000a81548160ff021916908315150217905550600160095f8381526020019081526020015f206004015f8282546108bf919061383d565b9250508190555060085f8154809291906108d890613870565b91905055503373ffffffffffffffffffffffffffffffffffffffff167f4d99b957a2bc29a30ebd96a7be8e68fe50a3c701db28a91436490b7d53870ca4826040516109239190613066565b60405180910390a250565b600b5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff16156109b8576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016109af90613901565b60405180910390fd5b600c5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff1615610a42576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610a3990613969565b60405180910390fd5b5f600e5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205414610ac1576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610ab8906139d1565b60405180910390fd5b60075f815480929190610ad390613870565b9190505550600754600e5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20819055506040518060a0016040528060075481526020018281526020013373ffffffffffffffffffffffffffffffffffffffff1681526020015f151581526020015f1515815250600a5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f820151815f01556020820151816001019081610bb99190613bec565b506040820151816002015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff16021790555060608201518160020160146101000a81548160ff02191690831515021790555060808201518160020160156101000a81548160ff021916908315150217905550905050601033908060018154018082558091505060019003905f5260205f20015f9091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503373ffffffffffffffffffffffffffffffffffffffff167f9ce429b3729c51a5c1c92849e7088bf7955d17c5510bf84ac6ed5513a289d11382604051610ce99190613cbb565b60405180910390a250565b60605f5f90505f600190505b6006548111610d515760095f8281526020019081526020015f206005015f9054906101000a900460ff1615610d3e578180610d3a90613870565b9250505b8080610d4990613870565b915050610d00565b505f8167ffffffffffffffff811115610d6d57610d6c612c67565b5b604051908082528060200260200182016040528015610da657816020015b610d93612b23565b815260200190600190039081610d8b5790505b5090505f5f90505f600190505b6006548111610fde5760095f8281526020019081526020015f206005015f9054906101000a900460ff1615610fcb5760095f8281526020019081526020015f206040518060c00160405290815f8201548152602001600182018054610e1790613a1c565b80601f0160208091040260200160405190810160405280929190818152602001828054610e4390613a1c565b8015610e8e5780601f10610e6557610100808354040283529160200191610e8e565b820191905f5260205f20905b815481529060010190602001808311610e7157829003601f168201915b50505050508152602001600282018054610ea790613a1c565b80601f0160208091040260200160405190810160405280929190818152602001828054610ed390613a1c565b8015610f1e5780601f10610ef557610100808354040283529160200191610f1e565b820191905f5260205f20905b815481529060010190602001808311610f0157829003601f168201915b50505050508152602001600382015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160048201548152602001600582015f9054906101000a900460ff161515151581525050838380610fac90613870565b945081518110610fbf57610fbe613cdb565b5b60200260200101819052505b8080610fd690613870565b915050610db3565b5081935050505090565b5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611076576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161106d90613d52565b60405180910390fd5b5f600d5f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205490505f81116110f9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016110f090613dba565b60405180910390fd5b60095f8281526020019081526020015f206005015f9054906101000a900460ff161561115a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161115190613e22565b60405180910390fd5b600160095f8381526020019081526020015f206005015f6101000a81548160ff0219169083151502179055506001600c5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff0219169083151502179055507f2ca28526ca2825de0ff39bb564fe7a42fe236f8a86df7bfa0d1c9114e90091eb8160095f8481526020019081526020015f2060010160095f8581526020019081526020015f20600201856040516112369493929190613ec1565b60405180910390a15050565b60085481565b5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146112d6576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016112cd90613d52565b60405180910390fd5b5f600e5f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205411611355576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161134c90613dba565b60405180910390fd5b600a5f8273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2060020160159054906101000a900460ff16156113e3576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016113da90613e22565b60405180910390fd5b6001600a5f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2060020160156101000a81548160ff0219169083151502179055506001600b5f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f6101000a81548160ff0219169083151502179055507f18263abf741210021f1b52ef33c4e8b0981f0a6919c7ee358805a3a53d2e2d9b600a5f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f0154600a5f8473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206001018360405161154293929190613f12565b60405180910390a150565b6009602052805f5260405f205f91509050805f01549080600101805461157290613a1c565b80601f016020809104026020016040519081016040528092919081815260200182805461159e90613a1c565b80156115e95780601f106115c0576101008083540402835291602001916115e9565b820191905f5260205f20905b8154815290600101906020018083116115cc57829003601f168201915b5050505050908060020180546115fe90613a1c565b80601f016020809104026020016040519081016040528092919081815260200182805461162a90613a1c565b80156116755780601f1061164c57610100808354040283529160200191611675565b820191905f5260205f20905b81548152906001019060200180831161165857829003601f168201915b505050505090806003015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690806004015490806005015f9054906101000a900460ff16905086565b60075481565b60605f60606001600301544211806116e9575060016004015f9054906101000a900460ff16155b611728576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161171f90613f98565b60405180910390fd5b5f611731610cf4565b90505f60405180602001604052805f81525090505f5f90505f5f90505b83518110156117cd578184828151811061176b5761176a613cdb565b5b60200260200101516080015111156117c0578381815181106117905761178f613cdb565b5b60200260200101516080015191508381815181106117b1576117b0613cdb565b5b60200260200101516020015192505b808060010191505061174e565b50818184955095509550505050909192565b6001805f0180546117ef90613a1c565b80601f016020809104026020016040519081016040528092919081815260200182805461181b90613a1c565b80156118665780601f1061183d57610100808354040283529160200191611866565b820191905f5260205f20905b81548152906001019060200180831161184957829003601f168201915b50505050509080600101805461187b90613a1c565b80601f01602080910402602001604051908101604052809291908181526020018280546118a790613a1c565b80156118f25780601f106118c9576101008083540402835291602001916118f2565b820191905f5260205f20905b8154815290600101906020018083116118d557829003601f168201915b505050505090806002015490806003015490806004015f9054906101000a900460ff16905085565b5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146119a8576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161199f90613d52565b60405180910390fd5b5f60016004015f6101000a81548160ff0219169083151502179055505f5f6119ce6116c2565b50915091507f4d31db6748edbbd9e5b81d507a6477be9bddc93567dc5e6fac4e6bae81f27fa58282604051611a04929190613fb6565b60405180910390a15050565b600c602052805f5260405f205f915054906101000a900460ff1681565b5f5f5f5f600e5f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205411600a5f8673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2060020160159054906101000a900460ff16600a5f8773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2060020160149054906101000a900460ff169250925092509193909250565b611b21612b6d565b60016040518060a00160405290815f82018054611b3d90613a1c565b80601f0160208091040260200160405190810160405280929190818152602001828054611b6990613a1c565b8015611bb45780601f10611b8b57610100808354040283529160200191611bb4565b820191905f5260205f20905b815481529060010190602001808311611b9757829003601f168201915b50505050508152602001600182018054611bcd90613a1c565b80601f0160208091040260200160405190810160405280929190818152602001828054611bf990613a1c565b8015611c445780601f10611c1b57610100808354040283529160200191611c44565b820191905f5260205f20905b815481529060010190602001808311611c2757829003601f168201915b505050505081526020016002820154815260200160038201548152602001600482015f9054906101000a900460ff161515151581525050905090565b5f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b60605f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff1614611d34576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401611d2b90613d52565b60405180910390fd5b5f5f90505f5f90505b600f80549050811015611e0d575f600f8281548110611d5f57611d5e613cdb565b5b905f5260205f20015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690505f600d5f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2054905060095f8281526020019081526020015f206005015f9054906101000a900460ff16611dfe578380611dfa90613870565b9450505b50508080600101915050611d3d565b505f8167ffffffffffffffff811115611e2957611e28612c67565b5b604051908082528060200260200182016040528015611e6257816020015b611e4f612b23565b815260200190600190039081611e475790505b5090505f5f90505f5f90505b600f80549050811015612118575f600f8281548110611e9057611e8f613cdb565b5b905f5260205f20015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1690505f600d5f8373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2054905060095f8281526020019081526020015f206005015f9054906101000a900460ff166121095760095f8281526020019081526020015f206040518060c00160405290815f8201548152602001600182018054611f5590613a1c565b80601f0160208091040260200160405190810160405280929190818152602001828054611f8190613a1c565b8015611fcc5780601f10611fa357610100808354040283529160200191611fcc565b820191905f5260205f20905b815481529060010190602001808311611faf57829003601f168201915b50505050508152602001600282018054611fe590613a1c565b80601f016020809104026020016040519081016040528092919081815260200182805461201190613a1c565b801561205c5780601f106120335761010080835404028352916020019161205c565b820191905f5260205f20905b81548152906001019060200180831161203f57829003601f168201915b50505050508152602001600382015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff16815260200160048201548152602001600582015f9054906101000a900460ff1615151515815250508585806120ea90613870565b9650815181106120fd576120fc613cdb565b5b60200260200101819052505b50508080600101915050611e6e565b5081935050505090565b600a602052805f5260405f205f91509050805f01549080600101805461214790613a1c565b80601f016020809104026020016040519081016040528092919081815260200182805461217390613a1c565b80156121be5780601f10612195576101008083540402835291602001916121be565b820191905f5260205f20905b8154815290600101906020018083116121a157829003601f168201915b505050505090806002015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff16908060020160149054906101000a900460ff16908060020160159054906101000a900460ff16905085565b60065481565b60605f5f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff163373ffffffffffffffffffffffffffffffffffffffff16146122a9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016122a090613d52565b60405180910390fd5b5f5f90505f5f90505b60108054905081101561236d575f601082815481106122d4576122d3613cdb565b5b905f5260205f20015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600a5f8273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2060020160159054906101000a900460ff1661235f57828061235b90613870565b9350505b5080806001019150506122b2565b505f8167ffffffffffffffff81111561238957612388612c67565b5b6040519080825280602002602001820160405280156123c257816020015b6123af612b9b565b8152602001906001900390816123a75790505b5090505f5f90505f5f90505b601080549050811015612611575f601082815481106123f0576123ef613cdb565b5b905f5260205f20015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff169050600a5f8273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2060020160159054906101000a900460ff1661260357600a5f8273ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f206040518060a00160405290815f82015481526020016001820180546124cd90613a1c565b80601f01602080910402602001604051908101604052809291908181526020018280546124f990613a1c565b80156125445780601f1061251b57610100808354040283529160200191612544565b820191905f5260205f20905b81548152906001019060200180831161252757829003601f168201915b50505050508152602001600282015f9054906101000a900473ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020016002820160149054906101000a900460ff161515151581526020016002820160159054906101000a900460ff1615151515815250508484806125e490613870565b9550815181106125f7576125f6613cdb565b5b60200260200101819052505b5080806001019150506123ce565b5081935050505090565b600e602052805f5260405f205f915090505481565b600d602052805f5260405f205f915090505481565b5f5f5f600d5f8573ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20541160095f600d5f8773ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205481526020019081526020015f206005015f9054906101000a900460ff1691509150915091565b600b602052805f5260405f205f915054906101000a900460ff1681565b600f818154811061271a575f80fd5b905f5260205f20015f915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b600c5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff16156127d0576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016127c790613969565b60405180910390fd5b600b5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f205f9054906101000a900460ff161561285a576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161285190613901565b60405180910390fd5b5f600d5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f2054146128d9576040517f08c379a00000000000000000000000000000000000000000000000000000000081526004016128d0906139d1565b60405180910390fd5b60065f8154809291906128eb90613870565b9190505550600654600d5f3373ffffffffffffffffffffffffffffffffffffffff1673ffffffffffffffffffffffffffffffffffffffff1681526020019081526020015f20819055506040518060c0016040528060065481526020018381526020018281526020013373ffffffffffffffffffffffffffffffffffffffff1681526020015f81526020015f151581525060095f60065481526020019081526020015f205f820151815f015560208201518160010190816129ab9190613bec565b5060408201518160020190816129c19190613bec565b506060820151816003015f6101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055506080820151816004015560a0820151816005015f6101000a81548160ff021916908315150217905550905050600f33908060018154018082558091505060019003905f5260205f20015f9091909190916101000a81548173ffffffffffffffffffffffffffffffffffffffff021916908373ffffffffffffffffffffffffffffffffffffffff1602179055503373ffffffffffffffffffffffffffffffffffffffff167f2c1806f9c994a02f7cb39705d06fd4dc4a7d8639fe220638bbc8bb4a60fb6b8d8383604051612adc929190613fe4565b60405180910390a25050565b60108181548110612af7575f80fd5b905f5260205f20015f915054906101000a900473ffffffffffffffffffffffffffffffffffffffff1681565b6040518060c001604052805f815260200160608152602001606081526020015f73ffffffffffffffffffffffffffffffffffffffff1681526020015f81526020015f151581525090565b6040518060a0016040528060608152602001606081526020015f81526020015f81526020015f151581525090565b6040518060a001604052805f8152602001606081526020015f73ffffffffffffffffffffffffffffffffffffffff1681526020015f151581526020015f151581525090565b5f604051905090565b5f5ffd5b5f5ffd5b5f819050919050565b612c0381612bf1565b8114612c0d575f5ffd5b50565b5f81359050612c1e81612bfa565b92915050565b5f60208284031215612c3957612c38612be9565b5b5f612c4684828501612c10565b91505092915050565b5f5ffd5b5f5ffd5b5f601f19601f8301169050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52604160045260245ffd5b612c9d82612c57565b810181811067ffffffffffffffff82111715612cbc57612cbb612c67565b5b80604052505050565b5f612cce612be0565b9050612cda8282612c94565b919050565b5f67ffffffffffffffff821115612cf957612cf8612c67565b5b612d0282612c57565b9050602081019050919050565b828183375f83830152505050565b5f612d2f612d2a84612cdf565b612cc5565b905082815260208101848484011115612d4b57612d4a612c53565b5b612d56848285612d0f565b509392505050565b5f82601f830112612d7257612d71612c4f565b5b8135612d82848260208601612d1d565b91505092915050565b5f60208284031215612da057612d9f612be9565b5b5f82013567ffffffffffffffff811115612dbd57612dbc612bed565b5b612dc984828501612d5e565b91505092915050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b612e0481612bf1565b82525050565b5f81519050919050565b5f82825260208201905092915050565b8281835e5f83830152505050565b5f612e3c82612e0a565b612e468185612e14565b9350612e56818560208601612e24565b612e5f81612c57565b840191505092915050565b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f612e9382612e6a565b9050919050565b612ea381612e89565b82525050565b5f8115159050919050565b612ebd81612ea9565b82525050565b5f60c083015f830151612ed85f860182612dfb565b5060208301518482036020860152612ef08282612e32565b91505060408301518482036040860152612f0a8282612e32565b9150506060830151612f1f6060860182612e9a565b506080830151612f326080860182612dfb565b5060a0830151612f4560a0860182612eb4565b508091505092915050565b5f612f5b8383612ec3565b905092915050565b5f602082019050919050565b5f612f7982612dd2565b612f838185612ddc565b935083602082028501612f9585612dec565b805f5b85811015612fd05784840389528151612fb18582612f50565b9450612fbc83612f63565b925060208a01995050600181019050612f98565b50829750879550505050505092915050565b5f6020820190508181035f830152612ffa8184612f6f565b905092915050565b61300b81612e89565b8114613015575f5ffd5b50565b5f8135905061302681613002565b92915050565b5f6020828403121561304157613040612be9565b5b5f61304e84828501613018565b91505092915050565b61306081612bf1565b82525050565b5f6020820190506130795f830184613057565b92915050565b5f82825260208201905092915050565b5f61309982612e0a565b6130a3818561307f565b93506130b3818560208601612e24565b6130bc81612c57565b840191505092915050565b6130d081612e89565b82525050565b6130df81612ea9565b82525050565b5f60c0820190506130f85f830189613057565b818103602083015261310a818861308f565b9050818103604083015261311e818761308f565b905061312d60608301866130c7565b61313a6080830185613057565b61314760a08301846130d6565b979650505050505050565b5f6060820190508181035f83015261316a818661308f565b90506131796020830185613057565b818103604083015261318b8184612f6f565b9050949350505050565b5f60a0820190508181035f8301526131ad818861308f565b905081810360208301526131c1818761308f565b90506131d06040830186613057565b6131dd6060830185613057565b6131ea60808301846130d6565b9695505050505050565b5f6020820190506132075f8301846130d6565b92915050565b5f6060820190506132205f8301866130d6565b61322d60208301856130d6565b61323a60408301846130d6565b949350505050565b5f60a083015f8301518482035f86015261325c8282612e32565b915050602083015184820360208601526132768282612e32565b915050604083015161328b6040860182612dfb565b50606083015161329e6060860182612dfb565b5060808301516132b16080860182612eb4565b508091505092915050565b5f6020820190508181035f8301526132d48184613242565b905092915050565b5f6020820190506132ef5f8301846130c7565b92915050565b5f60a0820190506133085f830188613057565b818103602083015261331a818761308f565b905061332960408301866130c7565b61333660608301856130d6565b61334360808301846130d6565b9695505050505050565b5f81519050919050565b5f82825260208201905092915050565b5f819050602082019050919050565b5f60a083015f83015161338b5f860182612dfb565b50602083015184820360208601526133a38282612e32565b91505060408301516133b86040860182612e9a565b5060608301516133cb6060860182612eb4565b5060808301516133de6080860182612eb4565b508091505092915050565b5f6133f48383613376565b905092915050565b5f602082019050919050565b5f6134128261334d565b61341c8185613357565b93508360208202850161342e85613367565b805f5b85811015613469578484038952815161344a85826133e9565b9450613455836133fc565b925060208a01995050600181019050613431565b50829750879550505050505092915050565b5f6020820190508181035f8301526134938184613408565b905092915050565b5f6040820190506134ae5f8301856130d6565b6134bb60208301846130d6565b9392505050565b5f5f604083850312156134d8576134d7612be9565b5b5f83013567ffffffffffffffff8111156134f5576134f4612bed565b5b61350185828601612d5e565b925050602083013567ffffffffffffffff81111561352257613521612bed565b5b61352e85828601612d5e565b9150509250929050565b7f566f74696e67206e6f74206163746976650000000000000000000000000000005f82015250565b5f61356c60118361307f565b915061357782613538565b602082019050919050565b5f6020820190508181035f83015261359981613560565b9050919050565b7f456c656374696f6e206e6f7420616374697665000000000000000000000000005f82015250565b5f6135d460138361307f565b91506135df826135a0565b602082019050919050565b5f6020820190508181035f830152613601816135c8565b9050919050565b7f4e6f742061207265676973746572656420766f746572000000000000000000005f82015250565b5f61363c60168361307f565b915061364782613608565b602082019050919050565b5f6020820190508181035f83015261366981613630565b9050919050565b7f566f746572206e6f7420617070726f76656400000000000000000000000000005f82015250565b5f6136a460128361307f565b91506136af82613670565b602082019050919050565b5f6020820190508181035f8301526136d181613698565b9050919050565b7f416c726561647920766f746564000000000000000000000000000000000000005f82015250565b5f61370c600d8361307f565b9150613717826136d8565b602082019050919050565b5f6020820190508181035f83015261373981613700565b9050919050565b7f496e76616c69642063616e6469646174650000000000000000000000000000005f82015250565b5f61377460118361307f565b915061377f82613740565b602082019050919050565b5f6020820190508181035f8301526137a181613768565b9050919050565b7f43616e646964617465206e6f7420617070726f766564000000000000000000005f82015250565b5f6137dc60168361307f565b91506137e7826137a8565b602082019050919050565b5f6020820190508181035f830152613809816137d0565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52601160045260245ffd5b5f61384782612bf1565b915061385283612bf1565b925082820190508082111561386a57613869613810565b5b92915050565b5f61387a82612bf1565b91507fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82036138ac576138ab613810565b5b600182019050919050565b7f416c7265616479207265676973746572656420617320766f74657200000000005f82015250565b5f6138eb601b8361307f565b91506138f6826138b7565b602082019050919050565b5f6020820190508181035f830152613918816138df565b9050919050565b7f416c726561647920726567697374657265642061732063616e646964617465005f82015250565b5f613953601f8361307f565b915061395e8261391f565b602082019050919050565b5f6020820190508181035f83015261398081613947565b9050919050565b7f5265717565737420616c72656164792070656e64696e670000000000000000005f82015250565b5f6139bb60178361307f565b91506139c682613987565b602082019050919050565b5f6020820190508181035f8301526139e8816139af565b9050919050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52602260045260245ffd5b5f6002820490506001821680613a3357607f821691505b602082108103613a4657613a456139ef565b5b50919050565b5f819050815f5260205f209050919050565b5f6020601f8301049050919050565b5f82821b905092915050565b5f60088302613aa87fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff82613a6d565b613ab28683613a6d565b95508019841693508086168417925050509392505050565b5f819050919050565b5f613aed613ae8613ae384612bf1565b613aca565b612bf1565b9050919050565b5f819050919050565b613b0683613ad3565b613b1a613b1282613af4565b848454613a79565b825550505050565b5f5f905090565b613b31613b22565b613b3c818484613afd565b505050565b5b81811015613b5f57613b545f82613b29565b600181019050613b42565b5050565b601f821115613ba457613b7581613a4c565b613b7e84613a5e565b81016020851015613b8d578190505b613ba1613b9985613a5e565b830182613b41565b50505b505050565b5f82821c905092915050565b5f613bc45f1984600802613ba9565b1980831691505092915050565b5f613bdc8383613bb5565b9150826002028217905092915050565b613bf582612e0a565b67ffffffffffffffff811115613c0e57613c0d612c67565b5b613c188254613a1c565b613c23828285613b63565b5f60209050601f831160018114613c54575f8415613c42578287015190505b613c4c8582613bd1565b865550613cb3565b601f198416613c6286613a4c565b5f5b82811015613c8957848901518255600182019150602085019450602081019050613c64565b86831015613ca65784890151613ca2601f891682613bb5565b8355505b6001600288020188555050505b505050505050565b5f6020820190508181035f830152613cd3818461308f565b905092915050565b7f4e487b71000000000000000000000000000000000000000000000000000000005f52603260045260245ffd5b7f4e6f7420617574686f72697a65640000000000000000000000000000000000005f82015250565b5f613d3c600e8361307f565b9150613d4782613d08565b602082019050919050565b5f6020820190508181035f830152613d6981613d30565b9050919050565b7f4e6f2070656e64696e67207265717565737400000000000000000000000000005f82015250565b5f613da460128361307f565b9150613daf82613d70565b602082019050919050565b5f6020820190508181035f830152613dd181613d98565b9050919050565b7f416c726561647920617070726f766564000000000000000000000000000000005f82015250565b5f613e0c60108361307f565b9150613e1782613dd8565b602082019050919050565b5f6020820190508181035f830152613e3981613e00565b9050919050565b5f8154613e4c81613a1c565b613e56818661307f565b9450600182165f8114613e705760018114613e8657613eb8565b60ff198316865281151560200286019350613eb8565b613e8f85613a4c565b5f5b83811015613eb057815481890152600182019150602081019050613e91565b808801955050505b50505092915050565b5f608082019050613ed45f830187613057565b8181036020830152613ee68186613e40565b90508181036040830152613efa8185613e40565b9050613f0960608301846130c7565b95945050505050565b5f606082019050613f255f830186613057565b8181036020830152613f378185613e40565b9050613f4660408301846130c7565b949350505050565b7f566f74696e67207374696c6c20616374697665000000000000000000000000005f82015250565b5f613f8260138361307f565b9150613f8d82613f4e565b602082019050919050565b5f6020820190508181035f830152613faf81613f76565b9050919050565b5f6040820190508181035f830152613fce818561308f565b9050613fdd6020830184613057565b9392505050565b5f6040820190508181035f830152613ffc818561308f565b90508181036020830152614010818461308f565b9050939250505056fea2646970667358221220e077dbacebc968e0911003080cf6ee0dd372f22e6ebaf688f66121a98728309864736f6c634300081e0033";

export async function deployVotingContract(
  signer: JsonRpcSigner,
  name: string,
  description: string,
  startTime: number,
  endTime: number
): Promise<Contract> {
  const factory = new ContractFactory(VOTING_CONTRACT_ABI, VOTING_CONTRACT_BYTECODE, signer);
  const contract = await factory.deploy(name, description, startTime, endTime);
  await contract.waitForDeployment();
  return contract;
}

export function getVotingContract(
  contractAddress: string,
  provider: BrowserProvider,
  signer?: JsonRpcSigner
): Contract {
  return new Contract(contractAddress, VOTING_CONTRACT_ABI, signer || provider);
}

export async function getElectionInfo(contract: Contract) {
  const election = await contract.getElectionInfo();
  return {
    name: election.name,
    description: election.description,
    startTime: Number(election.startTime),
    endTime: Number(election.endTime),
    active: election.active
  };
}

export async function getCandidates(contract: Contract) {
  const candidates = await contract.getCandidates();
  return candidates.map((candidate: any) => ({
    id: Number(candidate.id),
    name: candidate.name,
    party: candidate.party,
    wallet: candidate.wallet,
    voteCount: Number(candidate.voteCount),
    approved: candidate.approved
  }));
}

export async function getPendingCandidates(contract: Contract) {
  const candidates = await contract.getPendingCandidates();
  return candidates.map((candidate: any) => ({
    id: Number(candidate.id),
    name: candidate.name,
    party: candidate.party,
    wallet: candidate.wallet,
    voteCount: Number(candidate.voteCount),
    approved: candidate.approved
  }));
}

export async function getPendingVoters(contract: Contract) {
  const voters = await contract.getPendingVoters();
  return voters.map((voter: any) => ({
    id: Number(voter.id),
    name: voter.name,
    wallet: voter.wallet,
    hasVoted: voter.hasVoted,
    approved: voter.approved
  }));
}

export async function getResults(contract: Contract) {
  const results = await contract.getResults();
  return {
    winnerName: results.winnerName,
    maxVotes: Number(results.maxVotes),
    allCandidates: results.allCandidates.map((candidate: any) => ({
      id: Number(candidate.id),
      name: candidate.name,
      party: candidate.party,
      wallet: candidate.wallet,
      voteCount: Number(candidate.voteCount),
      approved: candidate.approved
    }))
  };
}

export async function getVoterStatus(contract: Contract, voterAddress: string) {
  const status = await contract.getVoterStatus(voterAddress);
  return {
    registered: status.registered,
    approved: status.approved,
    hasVoted: status.hasVoted
  };
}

export async function getCandidateStatus(contract: Contract, candidateAddress: string) {
  const status = await contract.getCandidateStatus(candidateAddress);
  return {
    registered: status.registered,
    approved: status.approved
  };
}